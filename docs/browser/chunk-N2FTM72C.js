import{a as D}from"./chunk-AV6BSGZ7.js";import{a as P,b as l,c as V,d as F,e as g,f as w,h as G,i as T,j as N,m as A}from"./chunk-VV4JPCKW.js";import"./chunk-NI4CGMN2.js";import{g as E}from"./chunk-ZIDVCAEP.js";import"./chunk-PXEJ7JHL.js";import{Ab as m,Hb as a,Ob as y,Ra as p,aa as v,da as x,gb as S,ib as d,mb as h,na as u,oa as c,qb as n,rb as i,sb as f,vb as C,zb as _}from"./chunk-HXR6WZJS.js";function R(o,s){if(o&1){let t=C();n(0,"form",2),_("ng-submit",function(){u(t);let r=m();return c(r.verifyEmailSubmit())}),n(1,"div",3)(2,"label",4),a(3,"Email"),i(),f(4,"input",5),i(),n(5,"button",6),a(6,"VErify Email"),i()()}if(o&2){let t=m();d("formGroup",t.verifyEmail),p(5),d("disabled",t.verifyEmail.invalid)}}function q(o,s){if(o&1){let t=C();n(0,"form",7),_("ngSubmit",function(){u(t);let r=m();return c(r.verifyCodeSubmit())}),n(1,"div",3)(2,"label",8),a(3,"Email"),i(),f(4,"input",9),i(),n(5,"button",10),_("ngSubmit",function(){u(t);let r=m();return c(r.resetPasswordSubmit())}),a(6,"VErify Code"),i()()}if(o&2){let t=m();d("formGroup",t.verifyCode),p(5),d("disabled",t.verifyCode.invalid)}}function M(o,s){if(o&1){let t=C();n(0,"form",7),_("ngSubmit",function(){u(t);let r=m();return c(r.resetPasswordSubmit())}),n(1,"div",3)(2,"label",4),a(3,"Email"),i(),f(4,"input",5),i(),n(5,"div",3)(6,"label",11),a(7,"newPassword"),i(),f(8,"input",12),i(),n(9,"button",6),a(10,"VErify Email"),i()()}if(o&2){let t=m();d("formGroup",t.resetPassword),p(9),d("disabled",t.resetPassword.invalid)}}var H=(()=>{let s=class s{constructor(){this._AuthService=v(D),this._Router=v(E),this.step=1,this.verifyEmail=new g({email:new w(null,[l.required,l.email])}),this.verifyCode=new g({resetCode:new w(null,[l.required,l.pattern(/^\w{6}$/)])}),this.resetPassword=new g({email:new w(null,[l.required,l.email]),newPassword:new w(null,[l.required,l.pattern(/^\w{6,}$/)])})}verifyEmailSubmit(){this._AuthService.setEmailVerify(this.verifyEmail.value).subscribe({next:e=>{console.log(e),e.statusMsg==="success"&&(this.step=2)},error:e=>{console.log(e)}})}verifyCodeSubmit(){this._AuthService.setCodeVerify(this.verifyCode.value).subscribe({next:e=>{console.log(e),e.status==="Success"&&(this.step=3)},error:e=>{console.log(e)}})}resetPasswordSubmit(){this._AuthService.setRestPass(this.resetPassword.value).subscribe({next:e=>{console.log(e),localStorage.setItem("userToken",e.token),this._AuthService.saveUserDat(),this._Router.navigate(["/home"])},error:e=>{console.log(e)}})}};s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=x({type:s,selectors:[["app-forget-password"]],standalone:!0,features:[y],decls:6,vars:1,consts:[[1,"text-center","text-main","my-2"],[1,"bg-main-light","rounded-4","shadow","p-3",3,"formGroup"],[1,"bg-main-light","rounded-4","shadow","p-3",3,"ng-submit","formGroup"],[1,"my-2"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],[1,"btn-main",3,"disabled"],[1,"bg-main-light","rounded-4","shadow","p-3",3,"ngSubmit","formGroup"],["for","resetCode"],["type","text","formControlName","resetCode","id","resetCode",1,"form-control"],[1,"btn-main",3,"ngSubmit","disabled"],["for","newPassword"],["type","password","formControlName","newPassword","id","newPassword",1,"form-control"]],template:function(r,b){r&1&&(n(0,"section")(1,"h1",0),a(2,"Forgot Password"),i(),S(3,R,7,2,"form",1)(4,q,7,2)(5,M,11,2),i()),r&2&&(p(3),h(3,b.step==1?3:b.step==2?4:b.step==3?5:-1))},dependencies:[A,G,P,V,F,T,N]});let o=s;return o})();export{H as ForgetPasswordComponent};
