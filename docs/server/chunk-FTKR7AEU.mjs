import './polyfills.server.mjs';
import{a as C,c as x,d as w,e as I,f as a,h as E,i as F,j as N,m as k}from"./chunk-7NVGYZWJ.mjs";import{a as c}from"./chunk-CBYSDMSX.mjs";import{h as y}from"./chunk-ZIYERYGL.mjs";import{x as b}from"./chunk-HAIROEPU.mjs";import{Gb as s,Nb as S,Qa as h,S as u,X as p,Y as m,aa as f,hb as v,pb as n,qb as o,rb as l,yb as g}from"./chunk-3BG2KQPV.mjs";import"./chunk-VVCT4QZE.mjs";var O=(()=>{let e=class e{constructor(t){this._HttpClient=t,this.myHeaders={Token:localStorage.getItem("userToken")}}checkOut(t,i){return this._HttpClient.post(`${c.baseUrl}/api/v1/orders/checkout-session/${t}?url=${c.urlServer}`,{shippingAddress:i})}};e.\u0275fac=function(i){return new(i||e)(p(b))},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var P=(()=>{let e=class e{constructor(){this._ActivatedRoute=m(y),this._OrdersService=m(O),this.orders=new I({details:new a(null),phone:new a(null),city:new a(null)}),this.cartId=""}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.cartId=t.get("id"),console.log(this.cartId)}})}ordersSubmit(){console.log(this.orders.value),this._OrdersService.checkOut(this.cartId,this.orders.value).subscribe({next:t=>{console.log(t),t.status==="success"&&window.open(t.session.url,"_self")},error:t=>{console.log(t)}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["app-orders"]],standalone:!0,features:[S],decls:18,vars:1,consts:[[1,"bg-main-light","rounded-4","p-2","shadow","my-2","mx-auto","w-75"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"my-1"],["for","details"],["formControlName","details","id","details",1,"form-control"],["for","phone"],["formControlName","phone","id","phone","type","tel",1,"form-control"],["for","city"],["formControlName","city","id","city","type","text",1,"form-control"],[1,"btn-main"]],template:function(i,d){i&1&&(n(0,"section",0)(1,"h1",1),s(2,"ShippingAddress"),o(),n(3,"form",2),g("ngSubmit",function(){return d.ordersSubmit()}),n(4,"div",3)(5,"label",4),s(6,"Details"),o(),l(7,"textarea",5),o(),n(8,"div",3)(9,"label",6),s(10,"Phone"),o(),l(11,"input",7),o(),n(12,"div",3)(13,"label",8),s(14,"City"),o(),l(15,"input",9),o(),n(16,"button",10),s(17,"CheckOut"),o()()()),i&2&&(h(3),v("formGroup",d.orders))},dependencies:[k,E,C,x,w,F,N]});let r=e;return r})();export{P as OrdersComponent};
